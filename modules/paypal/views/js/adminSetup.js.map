{"version":3,"file":"js/adminSetup.js","mappings":"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","sources":["webpack://paypal/./_dev/js/adminSetup.js","webpack://paypal/./_dev/js/functions.js","webpack://paypal/webpack/bootstrap","webpack://paypal/webpack/runtime/define property getters","webpack://paypal/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["/**\n * 2007-2023 PayPal\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http://opensource.org/licenses/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n *  versions in the future. If you wish to customize PrestaShop for your\n *  needs please refer to http://www.prestashop.com for more information.\n *\n *  @author 2007-2023 PayPal\n *  @author 202 ecommerce <tech@202-ecommerce.com>\n *  @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)\n *  @copyright PayPal\n *\n */\n\n// Import functions for scrolling effect to necessary block on click\nimport {hoverConfig, hoverTabConfig} from './functions.js';\n\nexport  const SetupAdmin = {\n  init() {\n    // Disconnect from braintree account\n    $('#logoutAccount').on('click', (event) => {\n      SetupAdmin.logoutAccount();\n    });\n\n    // Connect to braintree account\n    $('#confirmCredentials').click((event) => {\n      $(event.currentTarget).closest('form').submit();\n    });\n\n    // Check credentials (TLS version, country, enabling SSL)\n    $(document).on('click', '#btn-check-requirements', () => {\n      SetupAdmin.checkRequirements();\n    });\n\n    // Scroll to necessary block\n    $('[data-pp-link-settings]').on('click', (e) => {\n      e.preventDefault();\n      const el = $(e.target.attributes.href.value);\n\n      if (el.length) {\n        hoverConfig(el);\n      } else {\n        hoverTabConfig();\n      }\n    });\n\n    // Remove effect after leaving cursor from the block\n    $('.defaultForm').on('mouseleave', (e) => {\n      $(e.currentTarget).removeClass('pp-settings-link-on');\n    });\n\n    // Handle click on \"Install Prestashop Checkout\" button\n    $('.ps-checkout-info').on('click', (e) => {\n      let action = e.target.getAttribute('data-action');\n      SetupAdmin.psCheckoutHandleAction(action);\n    });\n\n    $(document).on('contextmenu', '[data-paypal-button]', (e) => {\n      e.preventDefault();\n    });\n\n    window.onboardCallback = function (authCode, sharedId) {\n      $.ajax({\n        url: controllerUrl,\n        type: 'POST',\n        data: {\n          ajax: true,\n          action: 'handleOnboardingResponse',\n          authCode: authCode,\n          sharedId: sharedId,\n        },\n        success: function(response) {\n          console.log(response);\n        }\n      });\n    };\n\n    $('[data-update-rounding-settings]').on('click', (e) => {\n      SetupAdmin.updateRoundingSettings(e);\n    });\n\n    $('[data-show-rounding-alert]').on('click', (e) => {\n      let $alert = $('[data-rounding-alert]');\n      $alert.removeClass('hidden');\n      let offset = $alert.offset().top - $('.page-head').height() - 45;\n      $('html, body').animate({scrollTop: offset}, 500);\n    });\n  },\n\n  logoutAccount() {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'logOutAccount',\n      },\n      success(response) {\n        if (response.status) {\n          document.location = response.redirectUrl;\n        }\n      },\n    });\n\n  },\n\n  checkRequirements() {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'CheckCredentials',\n      },\n      success(response) {\n        $('#btn-check-requirements').closest('.status-block-container').html(response);\n      },\n    });\n  },\n\n  psCheckoutHandleAction(action) {\n    if (action != null) {\n      $.ajax({\n        url: controllerUrl,\n        type: 'POST',\n        data: {\n          ajax: true,\n          action: 'HandlePsCheckoutAction',\n          actionHandled: action,\n        },\n        success(response) {\n          if (response.redirect) {\n            window.open(response.url, '_blank');\n          }\n        },\n      });\n    }\n\n  },\n\n  updateRoundingSettings(el) {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'UpdateRoundingSettings',\n      },\n      success(response) {\n        let $alert = $(el.currentTarget).closest('[data-rounding-alert]');\n        if ($alert.length > 0) {\n          $alert.removeClass('alert-warning').addClass('alert-success');\n          $alert.html(response);\n          setTimeout(() => $alert.remove(), 5000);\n        }\n      },\n    });\n  },\n\n};\n\nwindow.addEventListener('load', () => SetupAdmin.init());\n\n// Wait until window is loaded\n$(window).on('load', () => $('[data-paypal-button]').removeClass('spinner-button'));\n","/**\n * 2007-2023 PayPal\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http://opensource.org/licenses/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n *  versions in the future. If you wish to customize PrestaShop for your\n *  needs please refer to http://www.prestashop.com for more information.\n *\n *  @author 2007-2023 PayPal\n *  @author 202 ecommerce <tech@202-ecommerce.com>\n *  @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)\n *  @copyright PayPal\n *\n */\n\n//  Highlighting necessary block while click on link in header\nexport const hoverConfig = (el) => {\n\n  // Remove highlighting from all blocks\n\t$('.defaultForm').removeClass('pp-settings-link-on');\n  $('.page-head-tabs a').removeClass('pp-settings-link-on pp__border-b-primary');\n\n  // Add highlighting for current block\n  el.addClass('pp-settings-link-on');\n\n  // Scroll to current block\n  $('html, body').animate({\n\t\tscrollTop: el.offset().top - 200 + \"px\"\n\t}, 900);\n}\n\n//  Highlighting necessary tab while click on link in header\nexport const hoverTabConfig = () => {\n  let tabs = document.querySelectorAll('.page-head-tabs a'),\n\t\tcurrentTab = $('.page-head-tabs a.current');\n\ttabs.forEach( el => {\n\t\tlet checkoutTab = $(el).attr('href').includes('AdminPayPalCustomizeCheckout'),\n\t\t \tsetupTab = $(el).attr('href').includes('AdminPayPalSetup');\n\n    // Add highlighting for current tab\n    if ((currentTab.attr('href').includes('AdminPayPalCustomizeCheckout') && setupTab)\n\t\t\t|| (currentTab.attr('href').includes('AdminPayPalSetup') && checkoutTab)) {\n\t\t\t$(el).addClass('pp-settings-link-on pp__border-b-primary');\n\t\t}\n\t})\n\n  // Scroll to current tab\n  $('html, body').animate({\n\t\tscrollTop: $('.page-head-tabs').offset().top - 200 + \"px\"\n\t}, 900);\n}\n\n\n// Show a block while choosing first option in current select, hide it while choosing others options\nexport const selectOption = (select, el) => {\n\tif (select) {\n\t\tselect.on('change', (e) => {\n\t\t\tlet index = e.target.selectedIndex;\n\t\t\tif (index == 0) {\n\t\t\t\tel.show();\n\t\t\t} else {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t})\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["SetupAdmin","hoverConfig","el","$","removeClass","addClass","animate","scrollTop","offset","top","hoverTabConfig","tabs","document","querySelectorAll","currentTab","forEach","checkoutTab","attr","includes","setupTab","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","init","on","event","logoutAccount","click","currentTarget","closest","submit","checkRequirements","e","preventDefault","target","attributes","href","value","length","action","getAttribute","psCheckoutHandleAction","window","onboardCallback","authCode","sharedId","ajax","url","controllerUrl","type","data","success","response","updateRoundingSettings","$alert","height","status","location","redirectUrl","html","actionHandled","redirect","open","setTimeout","remove","addEventListener"],"sourceRoot":""}