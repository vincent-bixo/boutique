{"version":3,"file":"js/helpAdmin.js","mappings":"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","sources":["webpack://paypal/./_dev/js/helpAdmin.js","webpack://paypal/./_dev/js/adminSetup.js","webpack://paypal/./_dev/js/functions.js","webpack://paypal/webpack/bootstrap","webpack://paypal/webpack/runtime/define property getters","webpack://paypal/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["/**\n * 2007-2023 PayPal\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http://opensource.org/licenses/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n *  versions in the future. If you wish to customize PrestaShop for your\n *  needs please refer to http://www.prestashop.com for more information.\n *\n *  @author 2007-2023 PayPal\n *  @author 202 ecommerce <tech@202-ecommerce.com>\n *  @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)\n *  @copyright PayPal\n *\n */\nimport { SetupAdmin } from './adminSetup.js';\n\nvar HelpAdmin = {\n  init() {\n\n    // Check credentials (TLS version, country, enabling SSL)\n    $('#ckeck_requirements').click(() => {\n      HelpAdmin.checkCredentials();\n    });\n\n    // Handle click on \"Install Prestashop Checkout\" button\n    $('.install-ps-checkout').click(() => {\n      SetupAdmin.psCheckoutHandleAction('install');\n    })\n  },\n\n  checkCredentials() {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      dataType: 'JSON',\n      data: {\n        ajax: true,\n        action: 'CheckCredentials',\n      },\n      success(response) {\n        let alert; let\n          typeAlert;\n\n        // Remove error messages\n        $('.action_response').html('');\n        if (response.success == true) {\n          typeAlert = 'success';\n        } else {\n          typeAlert = 'danger';\n        }\n        for (const key in response.message) {\n          alert = HelpAdmin.getAlert(response.message[key], typeAlert);\n          $(alert).appendTo('.action_response');\n        }\n      },\n    });\n  },\n\n  // Show error message\n  getAlert(message, typeAlert) {\n    const alert = document.createElement('div');\n    let messageNode = document.createElement('div');\n    messageNode.innerHTML = message;\n    alert.className = `alert alert-${typeAlert}`;\n    alert.appendChild(messageNode);\n    return alert;\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  HelpAdmin.init();\n});\n","/**\n * 2007-2023 PayPal\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http://opensource.org/licenses/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n *  versions in the future. If you wish to customize PrestaShop for your\n *  needs please refer to http://www.prestashop.com for more information.\n *\n *  @author 2007-2023 PayPal\n *  @author 202 ecommerce <tech@202-ecommerce.com>\n *  @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)\n *  @copyright PayPal\n *\n */\n\n// Import functions for scrolling effect to necessary block on click\nimport {hoverConfig, hoverTabConfig} from './functions.js';\n\nexport  const SetupAdmin = {\n  init() {\n    // Disconnect from braintree account\n    $('#logoutAccount').on('click', (event) => {\n      SetupAdmin.logoutAccount();\n    });\n\n    // Connect to braintree account\n    $('#confirmCredentials').click((event) => {\n      $(event.currentTarget).closest('form').submit();\n    });\n\n    // Check credentials (TLS version, country, enabling SSL)\n    $(document).on('click', '#btn-check-requirements', () => {\n      SetupAdmin.checkRequirements();\n    });\n\n    // Scroll to necessary block\n    $('[data-pp-link-settings]').on('click', (e) => {\n      e.preventDefault();\n      const el = $(e.target.attributes.href.value);\n\n      if (el.length) {\n        hoverConfig(el);\n      } else {\n        hoverTabConfig();\n      }\n    });\n\n    // Remove effect after leaving cursor from the block\n    $('.defaultForm').on('mouseleave', (e) => {\n      $(e.currentTarget).removeClass('pp-settings-link-on');\n    });\n\n    // Handle click on \"Install Prestashop Checkout\" button\n    $('.ps-checkout-info').on('click', (e) => {\n      let action = e.target.getAttribute('data-action');\n      SetupAdmin.psCheckoutHandleAction(action);\n    });\n\n    $(document).on('contextmenu', '[data-paypal-button]', (e) => {\n      e.preventDefault();\n    });\n\n    window.onboardCallback = function (authCode, sharedId) {\n      $.ajax({\n        url: controllerUrl,\n        type: 'POST',\n        data: {\n          ajax: true,\n          action: 'handleOnboardingResponse',\n          authCode: authCode,\n          sharedId: sharedId,\n        },\n        success: function(response) {\n          console.log(response);\n        }\n      });\n    };\n\n    $('[data-update-rounding-settings]').on('click', (e) => {\n      SetupAdmin.updateRoundingSettings(e);\n    });\n\n    $('[data-show-rounding-alert]').on('click', (e) => {\n      let $alert = $('[data-rounding-alert]');\n      $alert.removeClass('hidden');\n      let offset = $alert.offset().top - $('.page-head').height() - 45;\n      $('html, body').animate({scrollTop: offset}, 500);\n    });\n  },\n\n  logoutAccount() {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'logOutAccount',\n      },\n      success(response) {\n        if (response.status) {\n          document.location = response.redirectUrl;\n        }\n      },\n    });\n\n  },\n\n  checkRequirements() {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'CheckCredentials',\n      },\n      success(response) {\n        $('#btn-check-requirements').closest('.status-block-container').html(response);\n      },\n    });\n  },\n\n  psCheckoutHandleAction(action) {\n    if (action != null) {\n      $.ajax({\n        url: controllerUrl,\n        type: 'POST',\n        data: {\n          ajax: true,\n          action: 'HandlePsCheckoutAction',\n          actionHandled: action,\n        },\n        success(response) {\n          if (response.redirect) {\n            window.open(response.url, '_blank');\n          }\n        },\n      });\n    }\n\n  },\n\n  updateRoundingSettings(el) {\n    $.ajax({\n      url: controllerUrl,\n      type: 'POST',\n      data: {\n        ajax: true,\n        action: 'UpdateRoundingSettings',\n      },\n      success(response) {\n        let $alert = $(el.currentTarget).closest('[data-rounding-alert]');\n        if ($alert.length > 0) {\n          $alert.removeClass('alert-warning').addClass('alert-success');\n          $alert.html(response);\n          setTimeout(() => $alert.remove(), 5000);\n        }\n      },\n    });\n  },\n\n};\n\nwindow.addEventListener('load', () => SetupAdmin.init());\n\n// Wait until window is loaded\n$(window).on('load', () => $('[data-paypal-button]').removeClass('spinner-button'));\n","/**\n * 2007-2023 PayPal\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Academic Free License (AFL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http://opensource.org/licenses/afl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n *  versions in the future. If you wish to customize PrestaShop for your\n *  needs please refer to http://www.prestashop.com for more information.\n *\n *  @author 2007-2023 PayPal\n *  @author 202 ecommerce <tech@202-ecommerce.com>\n *  @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)\n *  @copyright PayPal\n *\n */\n\n//  Highlighting necessary block while click on link in header\nexport const hoverConfig = (el) => {\n\n  // Remove highlighting from all blocks\n\t$('.defaultForm').removeClass('pp-settings-link-on');\n  $('.page-head-tabs a').removeClass('pp-settings-link-on pp__border-b-primary');\n\n  // Add highlighting for current block\n  el.addClass('pp-settings-link-on');\n\n  // Scroll to current block\n  $('html, body').animate({\n\t\tscrollTop: el.offset().top - 200 + \"px\"\n\t}, 900);\n}\n\n//  Highlighting necessary tab while click on link in header\nexport const hoverTabConfig = () => {\n  let tabs = document.querySelectorAll('.page-head-tabs a'),\n\t\tcurrentTab = $('.page-head-tabs a.current');\n\ttabs.forEach( el => {\n\t\tlet checkoutTab = $(el).attr('href').includes('AdminPayPalCustomizeCheckout'),\n\t\t \tsetupTab = $(el).attr('href').includes('AdminPayPalSetup');\n\n    // Add highlighting for current tab\n    if ((currentTab.attr('href').includes('AdminPayPalCustomizeCheckout') && setupTab)\n\t\t\t|| (currentTab.attr('href').includes('AdminPayPalSetup') && checkoutTab)) {\n\t\t\t$(el).addClass('pp-settings-link-on pp__border-b-primary');\n\t\t}\n\t})\n\n  // Scroll to current tab\n  $('html, body').animate({\n\t\tscrollTop: $('.page-head-tabs').offset().top - 200 + \"px\"\n\t}, 900);\n}\n\n\n// Show a block while choosing first option in current select, hide it while choosing others options\nexport const selectOption = (select, el) => {\n\tif (select) {\n\t\tselect.on('change', (e) => {\n\t\t\tlet index = e.target.selectedIndex;\n\t\t\tif (index == 0) {\n\t\t\t\tel.show();\n\t\t\t} else {\n\t\t\t\tel.hide();\n\t\t\t}\n\t\t})\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["HelpAdmin","SetupAdmin","init","$","on","event","logoutAccount","click","currentTarget","closest","submit","document","checkRequirements","e","preventDefault","el","target","attributes","href","value","length","hoverConfig","hoverTabConfig","removeClass","action","getAttribute","psCheckoutHandleAction","window","onboardCallback","authCode","sharedId","ajax","url","controllerUrl","type","data","success","response","updateRoundingSettings","$alert","offset","top","height","animate","scrollTop","status","location","redirectUrl","html","actionHandled","redirect","open","addClass","setTimeout","remove","addEventListener","tabs","querySelectorAll","currentTab","forEach","checkoutTab","attr","includes","setupTab","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","checkCredentials","dataType","alert","typeAlert","message","getAlert","appendTo","createElement","messageNode","innerHTML","className","concat","appendChild"],"sourceRoot":""}